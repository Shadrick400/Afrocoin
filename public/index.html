<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Afrocoin Wallet</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.2/axios.min.js"></script>
    <!-- We need a library for EC keys in browser, or we can use the API to sign? 
         Ideally client signs. For simplicity in this step, we will make the API 
         handle signing if we send private key, OR we can try to bundle elliptic. 
         To keep it simple without webpack, I will let the user paste their private key 
         and the SERVER will verify/sign (as currently set up in /transact endpoint).
    -->
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">üöÄ Afrocoin</div>
            <div class="status">Node Status: <span class="online">‚óè Online</span></div>
        </header>

        <main>
            <!-- SECTION 1: WALLET -->
            <section class="card">
                <h2>üîë My Wallet</h2>
                <div class="wallet-controls">
                    <button onclick="generateWallet()" class="btn-primary">Generate New Wallet</button>
                    <div id="wallet-info" class="hidden">
                        <div class="input-group">
                            <label>Your Address (Public Key)</label>
                            <input type="text" id="my-address" readonly>
                        </div>
                        <div class="input-group">
                            <label>Your Private Key (SAVE THIS!)</label>
                            <input type="text" id="my-private-key" readonly class="danger-text">
                        </div>
                    </div>
                </div>
                
                <div class="divider"></div>

                <h3>Check Balance</h3>
                <div class="row">
                    <input type="text" id="balance-address" placeholder="Enter Wallet Address...">
                    <button onclick="checkBalance()" class="btn-secondary">Check</button>
                </div>
                <div id="balance-display">Balance: 0 Afrocoins</div>
            </section>

            <!-- SECTION 2: ACTIONS -->
            <div class="grid-2">
                <!-- MINE -->
                <section class="card">
                    <h2>‚õèÔ∏è Mine Coins</h2>
                    <p>Mine a new block to earn rewards.</p>
                    <div class="input-group">
                        <label>Miner Address</label>
                        <input type="text" id="miner-address" placeholder="Paste your address here">
                    </div>
                    <button onclick="mineBlock()" class="btn-success">Start Mining</button>
                    <div id="mine-status" class="status-msg"></div>
                </section>

                <!-- SEND -->
                <section class="card">
                    <h2>üí∏ Send Afrocoin</h2>
                    <div class="input-group">
                        <label>From (Your Private Key)</label>
                        <input type="text" id="tx-private-key" placeholder="Paste your PRIVATE key">
                    </div>
                    <div class="input-group">
                        <label>To (Recipient Address)</label>
                        <input type="text" id="tx-to-address" placeholder="Recipient address">
                    </div>
                    <div class="input-group">
                        <label>Amount</label>
                        <input type="number" id="tx-amount" placeholder="0">
                    </div>
                    <button onclick="sendTransaction()" class="btn-primary">Send Transaction</button>
                    <div id="tx-status" class="status-msg"></div>
                </section>
            </div>

            <!-- SECTION 3: EXPLORER -->
            <section class="card full-width">
                <h2>‚õìÔ∏è Blockchain Explorer</h2>
                <button onclick="loadBlocks()" class="btn-secondary small">Refresh Chain</button>
                <div id="chain-container">
                    <!-- Blocks will go here -->
                </div>
            </section>
        </main>
    </div>

    <!-- Minimal script to generate keys locally would require bundling 'elliptic'.
         For this demo, we will simulate wallet generation via an endpoint or just simple hex strings?
         No, we need real keys. 
         I will allow the user to use the keys generated by the CLI tool, 
         OR I can add a small endpoint to server.js '/wallet/new' to generate one for them. 
         I'll add that endpoint to server.js in a moment.
    -->
    <script src="app.js"></script>
</body>
</html>
